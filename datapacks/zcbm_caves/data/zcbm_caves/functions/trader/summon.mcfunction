#======================#
# made by zcbm command #
#======================#
#

scoreboard players set *m zcbm_random 2
function zcbm_core:mat/randomizer/determ/random

setblock ~ ~ ~ air
execute if score *x zcbm_random matches 0 run summon minecraft:villager ~ ~ ~ {Team:"zcbm_cave_nn",CustomName:"{\"translate\":\"miner\",\"italic\":false}",ArmorItems:[{},{},{},{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11003}}],ArmorDropChances:[0.00F,0.00F,0.00F,0.00F],Willing:1b,VillagerData:{level:1,profession:"minecraft:nitwit",type:"minecraft:jungle"},Offers:{Recipes:[{maxUses:9999,buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11001,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:potion",Count:1b,tag:{display:{Name:"{\"translate\":\"night_potion\",\"italic\":false}"},CustomPotionEffects:[{Id:16b,Amplifier:0b,Duration:12000,ShowParticles:0b}],CustomPotionColor:4219135}}},{buy:{id:"minecraft:firework_star",Count:32b,tag:{CustomModelData:11001,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{display:{Name:"{\"translate\":\"gem_pickaxe\",\"italic\":false}"},CustomModelData:11001,Enchantments:[{id:"minecraft:efficiency",lvl:10s}]}}},{buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11001,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:snowball",Count:3b,tag:{Tags:["zcbm_cave_bomb"],CustomModelData:11001,display:{Name:"{\"translate\":\"mine_bomb\",\"italic\":false}"}}}},{buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11001,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:bread",Count:5b,tag:{CustomModelData:11001,display:{Name:"{\"translate\":\"canned\",\"italic\":false}",Lore:["{\"translate\":\"canned_lore\",\"color\":\"gray\",\"italic\":false}"]}}}},{buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11001,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:stripped_oak_log",Count:12b}},{buy:{id:"minecraft:firework_star",Count:5b,tag:{CustomModelData:11001,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:chest",Count:1b,tag:{display:{Name:"{\"translate\":\"ore_chest\",\"italic\":false}"},BlockEntityTag:{LootTable:"zcbm_caves:ore_chest"}}}}]}}
execute if score *x zcbm_random matches 1 run summon minecraft:villager ~ ~ ~ {Team:"zcbm_cave_nn",CustomName:"{\"translate\":\"miner\",\"italic\":false}",ArmorItems:[{},{},{},{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11005}}],ArmorDropChances:[0.00F,0.00F,0.00F,0.00F],Willing:1b,VillagerData:{level:1,profession:"minecraft:nitwit",type:"minecraft:jungle"},Offers:{Recipes:[{maxUses:9999,buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11004,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:potion",Count:1b,tag:{display:{Name:"{\"translate\":\"resistance_potion\",\"italic\":false}"},CustomPotionEffects:[{Id:11b,Amplifier:1b,Duration:12000,ShowParticles:0b}],CustomPotionColor:16711680}}},{buy:{id:"minecraft:firework_star",Count:32b,tag:{CustomModelData:11004,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{display:{Name:"{\"translate\":\"gem_pickaxe\",\"italic\":false}"},CustomModelData:11002,Unbreakable:1b}}},{buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11004,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:snowball",Count:6b,tag:{Tags:["zcbm_cave_bomb"],CustomModelData:11004,display:{Name:"{\"translate\":\"mine_bomb\",\"italic\":false}"}}}},{buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11004,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:bread",Count:5b,tag:{CustomModelData:11004,display:{Name:"{\"translate\":\"canned\",\"italic\":false}",Lore:["{\"translate\":\"canned_lore\",\"color\":\"gray\",\"italic\":false}"]}}}},{buy:{id:"minecraft:firework_star",Count:1b,tag:{CustomModelData:11004,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:stripped_oak_log",Count:12b}},{buy:{id:"minecraft:firework_star",Count:5b,tag:{CustomModelData:11004,display:{Name:'{"translate":"gem","italic":false}'}}},sell:{id:"minecraft:chest",Count:1b,tag:{display:{Name:"{\"translate\":\"treasure_chest\",\"italic\":false}"},BlockEntityTag:{LootTable:"minecraft:chests/simple_dungeon"}}}}]}}
fill ~-8 ~-3 ~-8 ~8 ~8 ~8 minecraft:obsidian replace lava